@model SantaFeWaterSystem.Models.User

@{
    ViewData["Title"] = "Delete User";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2 class="text-danger">Delete User</h2>

<div class="alert alert-warning">
    <strong>Warning:</strong> This action cannot be undone.
</div>

<div>
    <h4>Are you sure you want to delete the following user?</h4>
    <dl class="row">
        <dt class="col-sm-3">Username</dt>
        <dd class="col-sm-9">@Model.Username</dd>

        <dt class="col-sm-3">Role</dt>
        <dd class="col-sm-9">@Model.Role</dd>

        @if (!string.IsNullOrEmpty(Model.AccountNumber))
        {
            <dt class="col-sm-3">Account Number</dt>
            <dd class="col-sm-9">@Model.AccountNumber</dd>
        }
    </dl>

    <form asp-action="DeleteUser" method="post">
        <input type="hidden" name="id" value="@Model.Id" />
        <input type="hidden" name="roleFilter" value="@ViewBag.RoleFilter" />
        <input type="hidden" name="searchTerm" value="@ViewBag.SearchTerm" />
        <input type="hidden" name="page" value="@ViewBag.Page" />
        <button type="submit" class="btn btn-danger">Delete</button>
        <a asp-action="ManageUsers"
           asp-route-roleFilter="@ViewBag.RoleFilter"
           asp-route-searchTerm="@ViewBag.SearchTerm"
           asp-route-page="@ViewBag.Page"
           class="btn btn-secondary">Cancel</a>
    </form>

</div>
