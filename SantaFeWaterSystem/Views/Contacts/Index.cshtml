@model IEnumerable<SantaFeWaterSystem.Models.ContactInfo>
@{
    ViewData["Title"] = "Manage Contacts";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        h2 {
            color: #0d6efd; /* Primary blue */
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-add-contact {
            background-color: #198754;
            color: #fff;
            font-weight: 500;
        }

        .btn-add-contact i {
            margin-right: 5px;
        }

        table {
            background-color: #f9f9f9;
        }

        table th {
            background-color: #0d6efd;
            color: #fff;
            text-align: center;
        }

        table td {
            vertical-align: middle;
            text-align: center;
        }

        .btn-sm i {
            margin-right: 3px;
        }

        .alert-success {
            border-left: 5px solid #198754;
            font-weight: 500;
        }
    </style>
}

<h2><i class="bi bi-people-fill"></i> Manage Contacts</h2>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success mt-3">@TempData["Success"]</div>
}

<div class="d-flex justify-content-between align-items-center mt-3">
    <a asp-action="Create" class="btn btn-add-contact">
        <i class="bi bi-plus-circle"></i> Add New Contact
    </a>

    <a asp-controller="GeneralSettings" asp-action="System" class="btn btn-secondary">
        <i class="bi bi-arrow-left-circle me-1"></i> Back to System
    </a>
</div>

<table class="table table-bordered table-striped mt-2">
    <thead>
        <tr>
            <th>Phone <i class="bi bi-telephone-fill"></i></th>
            <th>Email <i class="bi bi-envelope-fill"></i></th>
            <th>Facebook <i class="bi bi-facebook"></i></th>
            <th>Actions <i class="bi bi-gear-fill"></i></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var contact in Model)
        {
            <tr>
                <td>@contact.Phone</td>
                <td>@contact.Email</td>
                <td>
                    <a href="@contact.FacebookUrl" target="_blank">
                        <i class="bi bi-link-45deg"></i> @contact.FacebookName
                    </a>
                </td>
                <td>
                    <a asp-action="Edit" asp-route-id="@contact.Id" class="btn btn-sm btn-primary">
                        <i class="bi bi-pencil-square"></i> Edit
                    </a>
                    <a asp-action="Delete" asp-route-id="@contact.Id" class="btn btn-sm btn-danger">
                        <i class="bi bi-trash-fill"></i> Delete
                    </a>
                </td>
            </tr>
        }
    </tbody>
</table>
